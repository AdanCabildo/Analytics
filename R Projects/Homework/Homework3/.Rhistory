# load hw2data.rda from the working directory
load('hw2data.rda')
library(ggplot2)
library(plyr)
library(dplyr)
library(reshape2)
library(Hmisc)
expenditure
expenditure.key
household
household.key
household
item.purchases
item.key
# Merge the item.purchases data frame with the item.key data frame based on the ucc column:
merged_item <- merge(item.purchases, item.key, by = "ucc", all.x = TRUE)
# Calculate the frequency of each category description
category_freq <- table(merged_item$descr)
# Sort the frequencies in ascending order and select the top 25 category descriptions
top_categories <- names(tail(sort(category_freq, decreasing = FALSE), 25))
# Create the dot chart using the top 25 category descriptions and their frequencies in ascending order
dotchart(category_freq[top_categories], main = "Top 25 Most Common Itemized Purchases", xlab = "Frequency", ylab = "Category Description")
# Merge the item.purchases data frame with the item.key data frame based on the ucc column:
merged_item <- merge(item.purchases, item.key, by = "ucc", all.x = TRUE)
# Calculate the frequency of each category description
category_freq <- table(merged_item$descr)
# Sort the frequencies in descending order and select the top 25 category descriptions
top_categories <- names(head(sort(category_freq, decreasing = TRUE), 25))
# Create the dot chart using the top 25 category descriptions and their frequencies in descending order
dotchart(category_freq[top_categories], main = "Top 25 Most Common Itemized Purchases", xlab = "Frequency", ylab = "Category Description")
# Merge the item.purchases data frame with the item.key data frame based on the ucc column:
merged_item <- merge(item.purchases, item.key, by = "ucc", all.x = TRUE)
# Calculate the frequency of each category description
category_freq <- table(merged_item$descr)
# Sort the frequencies in ascending order and select the top 25 category descriptions
top_categories <- names(tail(sort(category_freq, decreasing = FALSE), 25))
# Create the dot chart using the top 25 category descriptions and their frequencies in ascending order
dotchart(category_freq[top_categories], main = "Top 25 Most Common Itemized Purchases", xlab = "Frequency", ylab = "Category Description")
